<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>My Account &ndash; Diva - Minimal and Modern Multipurpose Bootstrap 5 Template</title>
    <meta name="description" content="description" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Favicon -->
    <link rel="shortcut icon" href="userProfileAssets/images/favicon.png" />
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="userProfileAssets/css/plugins.css" />
    <!-- Main Style CSS -->
    <link rel="stylesheet" href="userProfileAssets/css/style.css" />
    <link rel="stylesheet" href="userProfileAssets/css/responsive.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        .table-responsive {
            margin-top: 20px;
        }

        .table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: transparent;
        }

        .table th,
        .table td {
            padding: 1rem;
            vertical-align: top;
            border-top: 1px solid #dee2e6;
        }

        .table thead th {
            vertical-align: bottom;
            border-bottom: 2px solid #dee2e6;
        }

        .table tbody+tbody {
            border-top: 2px solid #dee2e6;
        }

        .table .table {
            background-color: #fff;
        }

        .table-striped tbody tr:nth-of-type(odd) {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .table-hover tbody tr:hover {
            background-color: rgba(0, 0, 0, 0.075);
        }

        .thead-dark th {
            color: #fff;
            background-color: #343a40;
            border-color: #454d55;
        }

        .alt-font {
            font-family: 'Arial', sans-serif;
            /* Replace with your preferred font */
        }

        .btn-primary {
            color: #fff;
            background-color: #2fc28c;
            border-color: #2e7a69;
            padding: 0.375rem 0.75rem;
            text-align: center;
            vertical-align: middle;
            border: 1px solid transparent;
            text-decoration: none;
        }

        .btn-primary:hover {
            color: #fff;
            background-color: #397764;
            border-color: #187668;
        }

        .address-container {
            margin-bottom: 20px;
        }

        .icon-size {
            font-size: 10px;
            /* For a smaller icon */
        }

        .wishlist-popup {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #1a1a1a;
            color: #fff;
            padding: 15px 25px;
            border-radius: 0px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            text-align: center;
            font-family: 'Arial', sans-serif;
            animation: slideUp 0.5s ease-in-out;
        }

        .popup-content {
            position: relative;
        }

        .wishlist-popup a {
            color: #0fc4a5;
            text-decoration: none;
            font-weight: bold;
            margin-left: 10px;
        }

        .wishlist-popup a:hover {
            text-decoration: underline;
        }

        .wishlist-popup p {
            margin: 0;
            display: inline-block;
            font-size: 16px;
        }

        @keyframes slideUp {
            from {
                bottom: 10px;
                opacity: 0;
            }

            to {
                bottom: 20px;
                opacity: 1;
            }
        }


        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Additional Styles */
        .wishlist-popup {
            /* Add your additional styles here */
            /* For example, you can adjust the font size, padding, and background color */
            font-size: 18px;
            padding: 20px 30px;
            background-color: #333;
        }

        .wishlist-popup a {
            /* Add your additional styles here */
            /* For example, you can adjust the font size and color */
            font-size: 16px;
            color: #0fc4a5;
        }

        .wishlist-popup p {
            /* Add your additional styles here */
            /* For example, you can adjust the font size and color */
            font-size: 20px;
            color: #fff;
        }

        .loader {
            /* Add your additional styles here */
            /* For example, you can adjust the size and color */
            width: 30px;
            height: 30px;
            border-top-color: #0fc4a5;
        }


        /* Loader Styles */
        .loader {
            position: relative;
            width: 200px;
            height: 4px;
            background-color: #f3f3f3;
            overflow: hidden;
        }

        .loader::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            width: 0;
            height: 100%;
            background-color: #07cd88;
            animation: lineAnimation 2.2s linear infinite;
        }

        @keyframes lineAnimation {
            0% {
                width: 0;
            }

            100% {
                width: 100%;
            }
        }
    </style>

</head>
{{>header}}

<body class="page-template diva">
    <!-- Page Loader -->
    {{!-- <div id="pre-loader"><img src="assets/images/loader.gif" alt="Loading..." /></div> --}}
    <!-- End Page Loader -->

    <div class="pageWrapper">
        <!-- Promotion Bar -->
        <div class="notification-bar mobilehide d-none">
            <a href="#" class="notification-bar__message">20% off your very first purchase, use promo code: diva
                fashion</a>
            <span class="close-announcement icon an an-times"></span>
        </div>
        <!-- End Promotion Bar -->

        <!-- Search Form Drawer -->
        <div class="search">
            <div class="search__form">
                <form class="search-bar__form" action="#">
                    <button class="go-btn search__button" type="submit"><i class="icon an an-search"></i></button>
                    <input class="search__input" type="search" name="q" value=""
                        placeholder="Search for products, brands..." aria-label="Search" autocomplete="off" />
                </form>
                <button type="button" class="search-trigger close-btn" data-bs-toggle="tooltip" data-bs-placement="left"
                    title="Close"><i class="icon an an-times"></i></button>
            </div>
        </div>
        <!-- End Search Form Drawer -->

        <!-- Main Header -->
        <!--- *************************************Popup Notification****************************************************** -->
        <div id="popup-container"></div>
        <div id="wishlist-popup" class="wishlist-popup">
            <div class="popup-content">
                <p>Item added to wishlist!</p>
                <a href="/wishlist">Go to Wishlist</a>
                <div class="loader"></div>
            </div>
        </div>

        <div id="cart-popup" class="wishlist-popup">
            <div class="popup-content">
                <p>Item added to Cart!</p>
                <a href="/cart">Go to Cart</a>
                <div class="loader"></div>
            </div>
        </div>
        <!--- *************************************Popup Notification****************************************************** -->

        <!-- End Mobile Menu -->

        <!-- Body Content -->
        <div id="page-content">
            <!-- Page Title -->
            <div class="page section-header text-center mb-0">
                <div class="page-title">
                    <div class="wrapper">
                        <h1 class="page-width">My Account</h1>
                    </div>
                </div>
            </div>
            <!-- End Page Title -->
            <div class="bredcrumbWrap bredcrumbWrapPage bredcrumb-style2 text-center">
                <div class="container breadcrumbs">
                    <a href="/home" title="Back to the home page">Home</a><span aria-hidden="true">|</span><span
                        class="title-bold">My Account</span>
                </div>
            </div>

            <div class="container">
                <div class="dashboard-upper-info">
                    <div class="row align-items-center g-0">
                        <div class="col-xl-3 col-lg-3 col-sm-6">
                            <div class="d-single-info">
                                <p class="user-name">Hello <span class="font-weight-600">{{user.email}}</span></p>
                                <p>(not {{user.email}}? <a class="font-weight-600" href="/logout">Log Out</a>)</p>
                            </div>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-sm-6">
                            <div class="d-single-info">
                                <p>Need Assistance? Customer service at.</p>
                                <p>admin@yoursite.com.</p>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-3 col-sm-6">
                            <div class="d-single-info">
                                <p>E-mail them at </p>
                                <p>support@yoursite.com</p>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-2 col-sm-6">
                            <div class="d-single-info text-lg-center">
                                <a class="view-cart" href="/cart"><i class="icon an an-shopping-bag me-1"></i>View
                                    Cart</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mb-4 mb-lg-5 pb-lg-5">
                    <div class="col-xl-2 col-lg-2 col-md-12 md-margin-20px-bottom">
                        <!-- Nav tabs -->
                        <ul class="nav flex-column dashboard-list mb-4 mb-lg-0" role="tablist">
                            <li><a class="nav-link active" data-bs-toggle="tab" href="#dashboard">Dashboard</a></li>
                            <li><a class="nav-link" data-bs-toggle="tab" href="#orders">Orders</a></li>
                            <li><a class="nav-link" data-bs-toggle="tab" href="#Returnorders">Return Orders</a></li>

                            {{!-- <li><a class="nav-link" data-bs-toggle="tab" href="#downloads">Downloads</a></li> --}}
                            <li><a class="nav-link" data-bs-toggle="tab" href="#address">Addresses</a></li>
                            <li><a class="nav-link" data-bs-toggle="tab" href="#account-details">Account details</a>
                            </li>
                            <li><a class="nav-link" data-bs-toggle="tab" href="#wishlist">Wishlist</a></li>
                            <li><a class="nav-link" href="/logout">logout</a></li>
                        </ul>
                        <!-- End Nav tabs -->
                    </div>

                    <div class="col-xs-10 col-lg-10 col-md-12">
                        <!-- Tab panes -->
                        <div class="tab-content dashboard-content padding-30px-all md-padding-15px-all" style="">
                            <!-- Dashboard -->
                            <div id="dashboard" class="tab-pane fade active show">
                                <h3>Dashboard </h3>
                                <p>From your account dashboard. you can easily check &amp; view your
                                    <a class="text-decoration-underline" href="javascript:void(0);">recent orders</a>, manage your
                                    <a class="text-decoration-underline" href="javascript:void(0);">shipping and billing addresses</a> and
                                    <a class="text-decoration-underline" href="javascript:void(0);">edit your password and account
                                        details.</a>
                                </p>
                                <div class="row user-profile mt-4">
                                    <div class="col-12 col-lg-6">
                                        <div class="profile-img">
                                            <div class="img"><img src="asset\images\profile-circle.1023x1024.png" alt="profile"
                                                    width="65" /></div>
                                            <div class="detail ms-3">
                                                <h5 class="mb-1">{{user.username}}</h5>
                                                <p>Balance: <strong>₹{{user.walletAmount}}</strong></p>
                                            </div>
                                            <div class="lbl"></div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-6">
                                        <ul class="profile-order mt-3 mt-lg-0">
                                            <li>
                                                <h3 class="mb-1">{{orderCount}}</h3>
                                                All Orders
                                            </li>
                                            <li>
                                                <h3 class="mb-1">00</h3>
                                                Awaiting Payments
                                            </li>
                                            <li>
                                                <h3 class="mb-1">00</h3>
                                                Awaiting Shipment
                                            </li>
                                            <li>
                                                <h3 class="mb-1">{{awaitingDeliveryOrders}}</h3>
                                                Awaiting Delivery
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="table-responsive mt-4">
                                    <table class="table table-striped table-hover">
                                        <thead class="alt-font thead-dark">
                                            <tr>
                                                <th>Order</th>
                                                <th>Product</th>
                                                <th>Date</th>
                                                <th>Status</th>
                                                <th>Total</th>
                                                {{!-- <th>Actions</th> --}}
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {{#each order}}
                                            {{!-- {{#each this.items}} --}}
                                            <tr>
                                                  <td>{{this.orderID}}</td>
                                                <td>{{#each this.items}}{{this.product.name}},{{/each}}</td>
                                                <td>{{this.datePlaced}}</td>
                                                <td class="order-status">{{this.orderStatus}}</td>
                                                <td>₹{{this.totalPrice}} for  {{this.quantity}} item </td>

                                                {{!-- <td><a class="btn btn-primary view" href="cart.html">View</a></td> --}}
                                            </tr>
                                            {{!-- {{/each}} --}}
                                            {{/each}}
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                            <!-- End Dashboard -->

                            <!-- Orders -->
                            <div id="orders" class="product-order tab-pane fade">
                                <h3>Orders</h3>
                                <div class="table-responsive mt-4">
                                    <table class="table table-striped table-hover">
                                        <thead class="alt-font thead-dark">
                                            <tr>
                                                <th>Order</th>
                                                <th>Product</th>
                                                <th>Date</th>
                                                <th>Status</th>
                                                <th>Total</th>
                                                <th>Actions</th>
                                                <th>View</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {{#each order}}
                                            {{!-- {{#each this.items}} --}}
                                            <tr data-order-id="{{this._id}}">
                                                <td>{{this.orderID}}</td>
                                                <td>{{#each this.items}}{{this.product.name}},{{/each}}</td>
                                                <td>{{this.datePlaced}}</td>
                                                <td class="order-status">{{this.orderStatus}}</td>
                                                <td>₹{{this.totalPrice}} for {{this.quantity}} item </td>

                                                <td>
 
                {{#if (or (eq this.orderStatus "canceled") (eq this.orderStatus "delivered"))}}
                    <button class="btn btn-secondary" disabled>{{this.orderStatus}}</button>
                {{else}}
                    <button class="btn btn-primary view cancel-order-btn" data-order-id="{{this._id}}">Cancel</button>
                {{/if}}
            
                                                </td>
                                                 <td>
            <a href="/view-order?id={{this._id}}" class="btn btn-secondary">View</a>
        </td>
                                                
                                            </tr>
                                            {{!-- {{/each}} --}}
                                            {{/each}}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <!-- End Orders -->

                            <!-- Return Orders -->
                            <div id="Returnorders" class="product-order tab-pane fade">
                                <h3>Orders</h3>
                                <div class="table-responsive mt-4">
                                    <table class="table table-striped table-hover">
                                        <thead class="alt-font thead-dark">
                                            <tr>
                                                <th>Order</th>
                                                <th>Product</th>
                                                <th>Reason</th>
                                                <th>Status</th>
                                                <th>Total</th>
                                                {{!-- <th>Action</th>
                                                <th>View</th> --}}

                                            </tr>
                                        </thead>
                                        <tbody>
                                            {{#each findReturnItems}}
                                            {{!-- {{#each this.items}} --}}
                                            <tr data-order-id="{{this._id}}">
                                                <td>{{this.orderID}}</td>
                                                <td>{{this.product.name}}</td>
                                                <td>{{this.reason}}</td>
                                                <td class="return-order-status">{{this.status}}</td>
                                                <td>₹{{this.returnAmount}} for {{this.quantity}} item </td>

                                                {{!-- <td>
 
                {{#if (or (eq this.orderStatus "canceled") (eq this.orderStatus "delivered"))}}
                    <button class="btn btn-secondary" disabled>{{this.orderStatus}}</button>
                {{else}}
                    <button class="btn btn-primary view cancel-order-btn" data-order-id="{{this._id}}">Cancel</button>
                {{/if}}
            
                                                </td>
                                                 <td>
            <a href="/view-order?id={{this._id}}" class="btn btn-secondary">View</a>
        </td> --}}
                                                
                                            </tr>
                                            {{!-- {{/each}} --}}
                                            {{/each}}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <!-- End Return Orders -->

                            <!-- Downloads -->
                            <div id="downloads" class="product-order tab-pane fade">
                                <h3>Downloads</h3>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Product</th>
                                                <th>Downloads remaining</th>
                                                <th>Expires</th>
                                                <th>Download</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Minerva Dress black</td>
                                                <td>July 22, 2018</td>
                                                <td>never</td>
                                                <td><a class="view" href="#">Click Here To Download Your File</a></td>
                                            </tr>
                                            <tr>
                                                <td>Sueded Cotton Pant in Khaki</td>
                                                <td>Dec 17, 2018</td>
                                                <td>never</td>
                                                <td><a class="view" href="#">Click Here To Download Your File</a></td>
                                            </tr>
                                            <tr>
                                                <td>Standard chunk since</td>
                                                <td>June 24, 2018</td>
                                                <td>never</td>
                                                <td><a class="view" href="#">Click Here To Download Your File</a></td>
                                            </tr>
                                            <tr>
                                                <td>Combined with a handful</td>
                                                <td>July 28, 2018</td>
                                                <td>never</td>
                                                <td><a class="view" href="#">Click Here To Download Your File</a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <!-- End Downloads -->

                            <!-- Address -->
                            <div id="address" class="address tab-pane">
                                <h3>Addresses</h3>
                                <p class="xs-fon-13 margin-10px-bottom">The following addresses will be used on the
                                    checkout page by default.</p>
                                <div class="row">
                                    <div class="col-12 col-sm-12">
                                        <h4 class="billing-address">Shipping address</h4>
                                        {{#each address}}
                                        
                                        <a href="#" data-id="{{this.id}}" class="remove-address-btn float-right"
                                            title="Remove Address">
                                            <i class="fas fa-times-circle"></i>
                                        </a>
                                        <div class="clearfix"></div>
                                        <div class="col-12 col-sm-12 address-container">

                                            {{!-- <h4 class="billing-address">Shipping address</h4> --}}
                                            <a class="view edit-address-btn" href="#">Edit</a>
                                            <p>No {{this.apartment}} {{this.city}}, {{this.address}} {{this.company}}
                                                <br> {{this.postCode}}, <br> {{this.state}}, INDIA.</p>

                                            <div class="accordion add-address mt-3">
                                                <div id="shipping-{{@index}}" class="accordion-collapse collapse">
                                                    <form id="addressForm" class="address-form mt-3" method="post"
                                                        action="/edit-address/{{this.id}}">
                                                        <fieldset>
                                                            <h2 class="login-title mb-3">Shipping details</h2>
                                                            <div class="row">
                                                                <div
                                                                    class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                    <label for="input-firstname">First Name <span
                                                                            class="required-f">*</span></label>
                                                                    <input name="firstname" value="{{this.firstName}}"
                                                                        id="input-firstname" type="text" required>
                                                                </div>
                                                                <div
                                                                    class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                    <label for="input-lastname">Last Name <span
                                                                            class="required-f">*</span></label>
                                                                    <input name="lastname" value="{{this.lastName}}"
                                                                        id="input-lastname" type="text">
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div
                                                                    class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                    <label for="input-email">E-Mail <span
                                                                            class="required-f">*</span></label>
                                                                    <input name="email" value="{{this.email}}"
                                                                        id="input-email" type="email" required>
                                                                </div>
                                                                <div
                                                                    class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                    <label for="input-telephone">Telephone <span
                                                                            class="required-f">*</span></label>
                                                                    <input name="telephone" value="{{this.telephone}}"
                                                                        id="input-telephone" type="tel" required>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="form-group col-md-6 col-lg-6 col-xl-6">
                                                                    <label for="input-company">Company</label>
                                                                    <input name="company" value="{{this.company}}"
                                                                        id="input-company" type="text">
                                                                </div>
                                                                <div
                                                                    class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                    <label for="input-address-1">Address <span
                                                                            class="required-f">*</span></label>
                                                                    <input name="address" value="{{this.address}}"
                                                                        id="input-address-1" type="text" required>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="form-group col-md-6 col-lg-6 col-xl-6">
                                                                    <label for="input-address-2">Apartment <span
                                                                            class="required-f">*</span></label>
                                                                    <input name="apartment" value="{{this.apartment}}"
                                                                        id="input-apartment" type="text" required>
                                                                </div>
                                                                <div
                                                                    class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                    <label for="input-city">City <span
                                                                            class="required-f">*</span></label>
                                                                    <input name="city" value="{{this.city}}"
                                                                        id="input-city" type="text" required>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div
                                                                    class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                    <label for="input-postcode">Post Code <span
                                                                            class="required-f">*</span></label>
                                                                    <input name="postcode" value="{{this.postCode}}"
                                                                        id="input-postcode" type="text" required>
                                                                </div>
                                                                <div
                                                                    class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                    <label for="input-street">Street <span
                                                                            class="required-f">*</span></label>
                                                                    <input name="street" value="{{this.street}}"
                                                                        id="input-street" type="text" required>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div
                                                                    class="form-group col-md-12 col-lg-12 col-xl-12 required">
                                                                    <label for="input-zone-{{@index}}">Region / State
                                                                        <span class="required-f">*</span></label>
                                                                    <select name="state" id="input-zone" required>
                                                                        <option value="{{this.state}}">{{this.state}}
                                                                        </option>
                                                                        <option value="3513">Aberdeen</option>
                                                                        <option value="3514">Aberdeenshire</option>
                                                                        <option value="3515">Anglesey</option>
                                                                        <option value="3516">Angus</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <button type="submit" class="btn mt-1"><span>Save
                                                                    Address</span></button>
                                                        </fieldset>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        {{/each}}
                                        


                                        <div class="accordion add-address mt-3" id="address1">
                                            <button class="collapsed btn btn--small" type="button" aria-expanded="false"
                                                aria-controls="shipping-add" onclick="toggleAddAddress()">Add
                                                Address</button>
                                            <div id="shipping-add" class="accordion-collapse collapse"
                                                data-bs-parent="#address1">
                                                <form id="addAddressForm" class="address-from mt-3" method="post"
                                                    action="/add-address">
                                                    <fieldset>
                                                        <h2 class="login-title mb-3">Shipping details</h2>
                                                        <div class="row">
                                                            <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                <label for="input-firstname1">First Name <span
                                                                        class="required-f">*</span></label>
                                                                <input name="firstname" value="" id="input-firstname1"
                                                                    type="text" required>
                                                                <div class="invalid-feedback">First name is required.
                                                                </div>

                                                            </div>
                                                            <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                <label for="input-lastname1">Last Name <span
                                                                        class="required-f">*</span></label>
                                                                <input name="lastname" value="" id="input-lastname1"
                                                                    type="text">
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                <label for="input-email1">E-Mail <span
                                                                        class="required-f">*</span></label>
                                                                <input name="email" value="" id="input-email1"
                                                                    type="email" required>
                                                                <div class="invalid-feedback">Email is required.</div>

                                                            </div>
                                                            <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                <label for="input-telephone1">Telephone <span
                                                                        class="required-f">*</span></label>
                                                                <input name="telephone" value="" id="input-telephone1"
                                                                    type="tel" required>
                                                                <div class="invalid-feedback">Telephone is required.
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="form-group col-md-6 col-lg-6 col-xl-6">
                                                                <label for="input-company1">Company</label>
                                                                <input name="company" value="" id="input-company1"
                                                                    type="text">
                                                            </div>
                                                            <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                <label for="input-address">Address <span
                                                                        class="required-f">*</span></label>
                                                                <input name="address" value="" id="input-address"
                                                                    type="text" required>
                                                                <div class="invalid-feedback">Address is required.</div>

                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="form-group col-md-6 col-lg-6 col-xl-6">
                                                                <label for="input-apartment">Apartment <span
                                                                        class="required-f">*</span></label>
                                                                <input name="apartment" value="" id="input-apartment"
                                                                    type="text" required>
                                                                <div class="invalid-feedback">Apartment is required.
                                                                </div>

                                                            </div>
                                                            <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                <label for="input-city1">City <span
                                                                        class="required-f">*</span></label>
                                                                <input name="city" value="" id="input-city1" type="text"
                                                                    required>
                                                                <div class="invalid-feedback">City is required.</div>

                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                <label for="input-postcode1">Post Code <span
                                                                        class="required-f">*</span></label>
                                                                <input name="postcode" value="" id="input-postcode1"
                                                                    type="text" required>
                                                                <div class="invalid-feedback">Postcode is required.
                                                                </div>

                                                            </div>
                                                            <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                                <label for="input-street">Street <span
                                                                        class="required-f">*</span></label>
                                                                <input name="street" value="" id="input-street"
                                                                    type="text" required>
                                                                <div class="invalid-feedback">Street is required.</div>

                                                            </div>

                                                        </div>
                                                        <div class="row">
                                                            <div
                                                                class="form-group col-md-12 col-lg-12 col-xl-12 required">
                                                                <label for="input-zone1">Region / State <span
                                                                        class="required-f">*</span></label>
                                                                <select name="state" id="input-zone1" required>
                                                                    <option value="">Please Select</option>
                                                                    <option value="3513">Aberdeen</option>
                                                                    <option value="3514">Aberdeenshire</option>
                                                                    <option value="3515">Anglesey</option>
                                                                    <option value="3516">Angus</option>
                                                                </select>
                                                                <div class="invalid-feedback">State is required.</div>

                                                            </div>
                                                        </div>
                                                        <button class="btn mt-1"><span>Add Address</span></button>
                                                    </fieldset>
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <!-- End Address -->

                            <!-- Account Details -->
                            <div id="account-details" class="tab-pane fade">
                                <h3>Account details </h3>
                                <div class="account-login-form bg-light-gray padding-20px-all">
                                    <form action="/change-account-details" method="post" id="account-details-form">
                                        <fieldset>
                                            <p>Already have an account? <a href="login.html"> Log in instead!</a></p>

                                            <div class="row">
                                                <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                    <label for="input-username">UserName <span
                                                            class="required-f">*</span></label>
                                                    <input name="username" value="" id="input-username"
                                                        class="form-control" type="text">
                                                </div>
                                                <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                    <label for="input-mobile">Mobile <span
                                                            class="required-f">*</span></label>
                                                    <input name="mobile" value="" id="input-mobile" class="form-control"
                                                        type="text">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                    <label for="input-email">E-Mail <span
                                                            class="required-f">*</span></label>
                                                    <input name="email" value="" id="input-email" class="form-control"
                                                        type="email">
                                                </div>
                                                <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                    <label for="input-currentpassword">Current Password <span
                                                            class="required-f">*</span></label>
                                                    <input name="currentpassword" value="" id="input-currentpassword"
                                                        class="form-control" type="password">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                    <label for="input-newpassword">New Password <span
                                                            class="required-f">*</span></label>
                                                    <input name="newpassword" value="" id="input-newpassword"
                                                        class="form-control" type="password">
                                                </div>
                                                <div class="form-group col-md-6 col-lg-6 col-xl-6 required">
                                                    <label for="input-confirmpassword">Confirm Password <span
                                                            class="required-f">*</span></label>
                                                    <input name="confirmpassword" value="" id="input-confirmpassword"
                                                        class="form-control" type="password">
                                                </div>
                                            </div>
                                            {{errorMessage}}
                                        </fieldset>
                                        <button type="submit" class="btn margin-15px-top btn-primary">Save</button>
                                    </form>
                                </div>
                            </div>
                            <!-- End Account Details -->

                            <!-- Downloads -->
                            <div id="wishlist" class="product-wishlist tab-pane fade">
                                <h3>My Wishlist</h3>
                                <!-- Grid Product -->
                                <div class="grid-products grid--view-items wishlist-grid mt-4">
                                    <div class="row">
                                        {{#each wishlist.products}}
                                        <div class="col-6 col-sm-4 col-md-3 col-lg-3 item" data-id="{{this.id}}">
                                            <!-- Product Image -->
                                            <div class="product-image">
                                                <a href="javascript:void(0);" class="btn close-btn remove-wishlist-item"
                                                    data-bs-toggle="tooltip" data-bs-placement="top" title="">
                                                    <i class="fas fa-times icon-size"></i>
                                                </a>
                                                <!-- Product Image -->
                                                <a href="product-layout1.html">
                                                    <!-- Image -->
                                                    <img class="primary blur-up lazyload"
                                                        data-src="/{{this.productImage.[2]}}"
                                                        src="/{{this.productImage.[2]}}" alt="image" title="product" />
                                                    <!-- End Image -->
                                                    <!-- Hover Image -->
                                                    <img class="hover blur-up lazyload"
                                                        data-src="/{{this.productImage.[1]}}"
                                                        src="/{{this.productImage.[1]}}" alt="image" title="product" />
                                                    <!-- End Hover Image -->
                                                    <!-- Product Label -->
                                                    {{!-- <div class="product-labels rectangular"><span
                                                            class="lbl pr-label3">Low in stock</span></div> --}}
                                                    <!-- End Product Label -->
                                                </a>
                                                <!-- End Product Image -->
                                            </div>
                                            <!-- End Product Image -->

                                            <!-- Product Details -->
                                            <div class="product-details text-center">
                                                <!-- Product Name -->
                                                <div class="product-name">
                                                    <a href="product-layout1.html">Edna Dress</a>
                                                </div>
                                                <!-- End Product Name -->
                                                <!-- Product Price -->
                                                <div class="product-price">
                                                    {{!-- <span class="old-price">$700.00</span> --}}
                                                    <span class="price">${{this.price}}</span>
                                                </div>
                                                <!-- End Product Price -->
                                                <!-- Product Review -->
                                                {{!-- <div class="product-review">
                                                    <i class="an an-star"></i>
                                                    <i class="an an-star"></i>
                                                    <i class="an an-star"></i>
                                                    <i class="an an-star"></i>
                                                    <i class="an an-star-half-alt"></i>
                                                </div> --}}
                                                <!-- End Product Review -->
                                                <!-- Product Button -->
                                                <form method="post" action="/add-to-cart/{{this.id}}"
                                                    class="cart-form mt-3" enctype="multipart/form-data">
                                                    <button class="btn btn--small product-form__cart-submit"><span>Add
                                                            to cart</span></button>
                                                </form>
                                                <!-- End Product Button -->
                                            </div>
                                            <!-- End Product Details -->
                                        </div>
                                        {{/each}}
                                    </div>
                                </div>
                                <!-- End Grid Product-->
                            </div>
                            <!-- End Downloads -->
                        </div>
                        <!-- End Tab panes -->
                    </div>
                </div>
            </div>
            <!-- End Body Container -->
        </div>
        <!-- End Body Content -->

        <!-- Footer -->
        <footer id="footer">
            <div class="site-footer">
                <div class="footer-top">
                    <div class="container">
                        <!-- Footer Links -->
                        <div class="row">
                            <div class="col-12 col-sm-12 col-md-3 col-lg-3 footer-links">
                                <h4 class="h4">Quick Links</h4>
                                <ul>
                                    <li><a href="#">Women</a></li>
                                    <li><a href="#">Men</a></li>
                                    <li><a href="#">Kids</a></li>
                                    <li><a href="#">Deals</a></li>
                                    <li><a href="#">Accessories</a></li>
                                    <li><a href="#">New In</a></li>
                                </ul>
                            </div>
                            <div class="col-12 col-sm-12 col-md-3 col-lg-3 footer-links">
                                <h4 class="h4">Help</h4>
                                <ul>
                                    <li><a href="#">FAQs</a></li>
                                    <li><a href="#">My Orders</a></li>
                                    <li><a href="#">Terms And Conditions</a></li>
                                    <li><a href="#">Shipping Policy</a></li>
                                    <li><a href="#">Returns &amp; Exchange</a></li>
                                    <li><a href="#">Ordering &amp; Payment</a></li>
                                </ul>
                            </div>
                            <div class="col-12 col-sm-12 col-md-3 col-lg-3 contact-box">
                                <h4 class="h4">Contact Us</h4>
                                <ul class="addressFooter">
                                    <li>
                                        <i class="icon an an-map-marker"></i>
                                        <p>55 Gallaxy Enque,<br>2568 steet, 23568 NY</p>
                                    </li>
                                    <li class="phone">
                                        <i class="icon an an-phone-volume"></i>
                                        <p><a href="tel:(440)0000000000">(440) 000 000 0000</a></p>
                                    </li>
                                    <li class="email">
                                        <i class="icon an an-envelope"></i>
                                        <p><a href="mailto:sales@yousite.com">sales@yousite.com</a></p>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-12 col-sm-12 col-md-3 col-lg-3 newsletter">
                                <div class="display-table">
                                    <div class="display-table-cell footer-newsletter">
                                        <form action="#" method="post">
                                            <label class="h4">Newsletter</label>
                                            <p>sign up for newsletter to know our latest news and offers.</p>
                                            <div class="input-group">
                                                <input type="email" class="input-group__field newsletter__input"
                                                    name="EMAIL" value="" placeholder="Email address" required />
                                                <span class="input-group__btn">
                                                    <button type="submit" class="btn newsletter__submit" name="commit"
                                                        id="Subscribe"><span class="newsletter__submit-text--large">Sign
                                                            Up</span></button>
                                                </span>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End Footer Links -->
                </div>

                <div class="footer-middle">
                    <div class="container">
                        <div class="row">
                            <div
                                class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-Start align-items-center">
                                <div class="footer-social w-100 text-start d-flex">
                                    <h3 class="h4">Stay Connected</h3>
                                    <ul class="list--inline site-footer__social-icons social-icons">
                                        <li><a class="social-icons__link d-inline-block" href="#" target="_blank"
                                                data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook"><i
                                                    class="icon an an-facebook"></i></a></li>
                                        <li><a class="social-icons__link d-inline-block" href="#" target="_blank"
                                                data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter"><i
                                                    class="icon an an-twitter"></i> <span
                                                    class="icon__fallback-text">Twitter</span></a></li>
                                        <li><a class="social-icons__link d-inline-block" href="#" target="_blank"
                                                data-bs-toggle="tooltip" data-bs-placement="top" title="Pinterest"><i
                                                    class="icon an an-pinterest-p"></i> <span
                                                    class="icon__fallback-text">Pinterest</span></a></li>
                                        <li><a class="social-icons__link d-inline-block" href="#" target="_blank"
                                                data-bs-toggle="tooltip" data-bs-placement="top" title="Instagram"><i
                                                    class="icon an an-instagram"></i> <span
                                                    class="icon__fallback-text">Instagram</span></a></li>
                                        <li><a class="social-icons__link d-inline-block" href="#" target="_blank"
                                                data-bs-toggle="tooltip" data-bs-placement="top" title="YouTube"><i
                                                    class="icon an an-youtube"></i> <span
                                                    class="icon__fallback-text">YouTube</span></a></li>
                                    </ul>
                                </div>
                            </div>
                            <!--Footer Payment Icon-->
                            <div
                                class="col-12 col-sm-12 col-md-6 col-lg-6 d-flex justify-content-end align-items-center">
                                <ul class="payment-icons list--inline w-100 justify-content-end text-end">
                                    <li><i class="icon an an-cc-visa" aria-hidden="true"></i></li>
                                    <li><i class="icon an an-cc-mastercard" aria-hidden="true"></i></li>
                                    <li><i class="icon an an-cc-amex" aria-hidden="true"></i></li>
                                    <li><i class="icon an an-cc-paypal" aria-hidden="true"></i></li>
                                    <li><i class="icon an an-cc-discover" aria-hidden="true"></i></li>
                                </ul>
                            </div>
                            <!-- End Footer Payment Icon-->
                        </div>
                    </div>
                </div>

                <div class="footer-bottom">
                    <div class="container">
                        <div class="row">
                            <!-- Footer Copyright -->
                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 copyright text-center"><span>&copy; 2021
                                    DIVA.</span> All Rights Reserved.</div>
                            <!-- End Footer Copyright -->
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- End Footer -->

        <!-- Scoll Top -->
        <div id="site-scroll"><i class="icon an an-angle-up"></i></div>
        <!-- End Scoll Top -->

        <!-- Minicart Drawer -->
        <div class="minicart-right-drawer right modal fade" id="minicart-drawer" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="minicart-header">
                        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close"><i
                                class="an an-times" aria-hidden="true" data-bs-toggle="tooltip" data-bs-placement="left"
                                title="Close"></i></button>
                        <h4 class="modal-title" id="myModalLabel2">Shopping Cart <strong>3</strong> items</h4>
                    </div>
                    <div class="minicart-body">
                        <div class="empty-cart">
                            <p>You have no items in your shopping cart.</p>
                        </div>
                        <div id="drawer-minicart" class="block block-cart">
                            <ul class="mini-products-list">
                                <li class="item">
                                    <a class="product-image" href="cart.html"><img
                                            src="assets/images/product-images/cape-dress-1.jpg"
                                            alt="Frayed Layered Sleeve" title=""></a>
                                    <div class="product-details">
                                        <a href="#" class="remove" data-bs-toggle="tooltip" data-bs-placement="top"
                                            title="Remove"><i class="an an-times" aria-hidden="true"></i></a>
                                        <a href="#" class="edit-i remove" data-bs-toggle="tooltip"
                                            data-bs-placement="top" title="Edit"><i class="an an-edit"
                                                aria-hidden="true"></i></a>
                                        <a class="pName" href="cart.html">Frayed Layered Sleeve</a>
                                        <div class="variant-cart">Red / XL</div>
                                        <div class="wrapQtyBtn clearfix">
                                            <span class="label">Qty:</span>
                                            <div class="qtyField clearfix">
                                                <a class="qtyBtn minus" href="javascript:void(0);"><i
                                                        class="an an-minus" aria-hidden="true"></i></a>
                                                <input type="text" name="quantity" value="1"
                                                    class="product-form__input qty">
                                                <a class="qtyBtn plus" href="javascript:void(0);"><i class="an an-plus"
                                                        aria-hidden="true"></i></a>
                                            </div>
                                        </div>
                                        <div class="priceRow clearfix">
                                            <div class="product-price">
                                                <span class="money">$199.00</span>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="item">
                                    <a class="product-image" href="cart.html"><img
                                            src="assets/images/product-images/cape-dress-2.jpg"
                                            alt="Floral Lined Jacket" title=""></a>
                                    <div class="product-details">
                                        <a href="#" class="remove" data-bs-toggle="tooltip" data-bs-placement="top"
                                            title="Remove"><i class="an an-times" aria-hidden="true"></i></a>
                                        <a href="#" class="edit-i remove" data-bs-toggle="tooltip"
                                            data-bs-placement="top" title="Edit"><i class="an an-edit"
                                                aria-hidden="true"></i></a>
                                        <a class="pName" href="cart.html">Floral Lined Jacket</a>
                                        <div class="variant-cart">Black / M</div>
                                        <div class="wrapQtyBtn clearfix">
                                            <span class="label">Qty:</span>
                                            <div class="qtyField clearfix">
                                                <a class="qtyBtn minus" href="javascript:void(0);"><i
                                                        class="an an-minus" aria-hidden="true"></i></a>
                                                <input type="text" name="quantity" value="1"
                                                    class="product-form__input qty">
                                                <a class="qtyBtn plus" href="javascript:void(0);"><i class="an an-plus"
                                                        aria-hidden="true"></i></a>
                                            </div>
                                        </div>
                                        <div class="priceRow clearfix">
                                            <div class="product-price">
                                                <span class="money">$129.00</span>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="item">
                                    <a class="product-image" href="cart.html"><img
                                            src="assets/images/product-images/cape-dress-3.jpg"
                                            alt="Fit & Flare Trim Dress" title=""></a>
                                    <div class="product-details">
                                        <a href="#" class="remove" data-bs-toggle="tooltip" data-bs-placement="top"
                                            title="Remove"><i class="an an-times" aria-hidden="true"></i></a>
                                        <a href="#" class="edit-i remove" data-bs-toggle="tooltip"
                                            data-bs-placement="top" title="Edit"><i class="an an-edit"
                                                aria-hidden="true"></i></a>
                                        <a class="pName" href="cart.html">Fit & Flare Trim Dress</a>
                                        <div class="variant-cart">white / XL</div>
                                        <div class="wrapQtyBtn clearfix">
                                            <span class="label">Qty:</span>
                                            <div class="qtyField clearfix">
                                                <a class="qtyBtn minus" href="javascript:void(0);"><i
                                                        class="an an-minus" aria-hidden="true"></i></a>
                                                <input type="text" name="quantity" value="1"
                                                    class="product-form__input qty">
                                                <a class="qtyBtn plus" href="javascript:void(0);"><i class="an an-plus"
                                                        aria-hidden="true"></i></a>
                                            </div>
                                        </div>
                                        <div class="priceRow clearfix">
                                            <div class="product-price">
                                                <span class="money">$99.00</span>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="minicart-footer minicart-action">
                        <div class="total-in">
                            <p class="label"><b>Subtotal:</b><span class="item product-price"><span
                                        class="money">$427.00</span></span></p>
                            <p class="label"><b>Shipping:</b><span class="item product-price"><span
                                        class="shipping">$10.00</span></span></p>
                            <p class="label"><b>Tax:</b><span class="item product-price"><span
                                        class="tax">$0.00</span></span></p>
                            <p class="label"><b>Total:</b><span class="item product-price"><span
                                        class="totals">$437.00</span></span></p>
                        </div>
                        <div class="buttonSet d-flex flex-row align-items-center text-center">
                            <a href="cart.html" class="btn btn-secondary w-50 me-3">View Cart</a>
                            <a href="checkout.html" class="btn btn-secondary w-50">Checkout</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Minicart Drawer -->


    <!-- Including Javascript -->
    <!-- Plugins JS -->
    <script src="userProfileAssets/js/plugins.js"></script>
    <!-- Main JS -->
    <script src="userProfileAssets/js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.edit-address-btn').forEach(function (button, index) {
                button.addEventListener('click', function (event) {
                    event.preventDefault();
                    var targetId = '#shipping-' + index;
                    var target = document.querySelector(targetId);
                    target.classList.toggle('show');
                });
            });
        });
    </script>
    <script>
        function toggleAddAddress() {
            var addAddressCollapse = document.querySelector('#shipping-add');

            // Check if the add address form is currently open
            if (addAddressCollapse.classList.contains('show')) {
                // Close the add address form
                addAddressCollapse.classList.remove('show');
            } else {
                // Open the add address form
                addAddressCollapse.classList.add('show');
            }
        }
    </script>
    <script>
        function toggleAddAddress() {
            $('#shipping-add').collapse('toggle');
        }
    </script>
    <script>
        // Get all the "Edit" links
        const editLinks = document.querySelectorAll('.edit-address-btn');

        // Add a click event listener to each "Edit" link
        editLinks.forEach((link, index) => {
            link.addEventListener('click', (event) => {
                event.preventDefault(); // Prevent the default link behavior

                // Get the corresponding address data
                const address = addresses[index];

                // Get the corresponding form
                const form = document.getElementById(`shipping-${index}`).querySelector('form');

                // Fill the form fields with the address data
                form.querySelector('#input-firstname-' + index).value = address.firstname || '';
                form.querySelector('#input-lastname-' + index).value = address.lastname || '';
                form.querySelector('#input-email-' + index).value = address.email || '';
                form.querySelector('#input-telephone-' + index).value = address.telephone || '';
                form.querySelector('#input-company-' + index).value = address.company || '';
                form.querySelector('#input-address-1-' + index).value = address.address || '';
                form.querySelector('#input-address-2-' + index).value = address.apartment || '';
                form.querySelector('#input-city-' + index).value = address.city || '';
                form.querySelector('#input-postcode-' + index).value = address.postCode || '';
                form.querySelector('#input-street-' + index).value = address.street || '';
                form.querySelector('#input-zone-' + index).value = address.state || '';

                // Show the corresponding form
                const accordionElement = document.getElementById(`shipping-${index}`);
                accordionElement.classList.remove('collapse');
                accordionElement.classList.add('show');

                // Hide all other forms
                editLinks.forEach((otherLink, otherIndex) => {
                    if (otherIndex !== index) {
                        const otherAccordionElement = document.getElementById(`shipping-${otherIndex}`);
                        otherAccordionElement.classList.remove('show');
                        otherAccordionElement.classList.add('collapse');
                    }
                });
            });
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var form = document.getElementById('addAddressForm');
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                    form.classList.add('was-validated');
                }
            }, false);
        });
    </script>

    {{!-- -----------------------------remove product from wishlist---------------------------------------- --}}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.remove-wishlist-item').on('click', function (event) {
                event.preventDefault(); // Prevent the default link behavior

                var $item = $(this).closest('.item');
                var productId = $item.data('id');

                $.ajax({
                    url: '/remove-wishlist',
                    type: 'GET',
                    data: { id: productId },
                    success: function (response) {
                        if (response.success) {
                            $item.remove(); // Remove the item from the grid
                        } else {
                            alert('Error removing item');
                        }
                    },
                    error: function () {
                        alert('Internal server error');
                    }
                });
            });
        });
    </script>


    <script>
        $('.cart-form').on('submit', function (event) {
            event.preventDefault();

            const form = $(this);
            const url = form.attr('action');
            const productId = url.split('/').pop();
            $.ajax({
                url: '/add-to-cart/' + productId,
                type: 'POST',
                dataType: 'json',
                success: function (data) {
                    if (data.success) {

                        $('#cart-popup').fadeIn();
                        setTimeout(() => {
                            $('#cart-popup').fadeOut();
                        }, 2000)
                        console.log('product added to cart successfullly');
                    } else {
                        console.log('failed to add product to cart');
                    }
                },
                error: (err) => {
                    console.log('error:', err)
                }
            })
        })
    </script>

    {{!-- ----------------------------SAVE ACCOUNT DETAILS--------------------------- --}}
    <script>
        $('#account-details-form').on('submit', function (event) {
            event.preventDefault();
            $.ajax({
                url: '/change-account-details',
                type: 'POST',
                data: $(this).serialize(),
                success: function (response) {
                    if (response.success) {
                        alert('Account details updated successfully');
                    } else {
                        alert(response.message);
                    }
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    alert(jqXHR.responseText); 
                    console.log(textStatus, errorThrown);
                }

            });
        });
    </script>
    {{!-- ----------------------------SAVE ACCOUNT DETAILS--------------------------- --}}

    {{!-- ----------------------------EDIT ADDRESS--------------------------- --}}


    <script>
        $(document).ready(function () {
            $('#addressForm').on('submit', function (event) {
                event.preventDefault();

                var form = $(this);
                var url = form.attr('action');
                var formData = form.serialize();

                $.ajax({
                    type: "POST",
                    url: url,
                    data: formData,
                    success: function (response) {
                        if (response.success) {
                            alert('Address updated successfully!');
                        location.reload()
                        } else {

                            alert(response.message)
                        }

                    },
                    error: function (xhr, status, error) {
                        alert('Error updating address: ' + xhr.responseText);

                    }
                });
            });
        });
    </script>
    {{!-- ----------------------------EDIT ADDRESS--------------------------- --}}

    {{!-- ----------------------------ADD ADDRESS--------------------------- --}}
    <script>
        $(document).ready(function () {
            $('#addAddressForm').on('submit', function (event) {
                event.preventDefault();

                var form = $(this);
                var url = form.attr('action');
                var formData = form.serialize();

                $.ajax({
                    type: "POST",
                    url: url,
                    data: formData,
                    success: function (response) {
                        if (response.success) {
                            alert(response.message);
                            location.reload();
                        } else {
                            alert(response.message);
                        }
                    },
                    error: function (xhr, status, error) {
                        alert('Error adding address: ' + xhr.responseText);
                    }
                });
            });
        });
    </script>


    {{!-- ----------------------------ADD ADDRESS--------------------------- --}}

    {{!-- ----------------------------REMOVE ADDRESS--------------------------- --}}

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.remove-address-btn').on('click', function (event) {
                event.preventDefault();

                var addressId = $(this).data('id');
                var url = '/remove-address/' + addressId;
                {{!-- var addressContainer = $(this).closest('.address-container'); --}}

                $.ajax({
                    type: 'GET',
                    url: url,
                    success: function (response) {
                        if (response.success) {
                            {{!-- addressContainer.remove(); --}}
                            alert('Address removed successfully');
                            location.reload();
                        } else {
                            alert(response.message);
                        }
                    },
                    error: function (xhr, status, error) {
                        alert('Error removing address: ' + xhr.responseText);
                    }
                });
            });
        });
    </script>
    {{!-- ----------------------------REMOVE ADDRESS--------------------------- --}}


<script>
    
function toggleAddAddress() {
    var addAddressForm = document.getElementById('shipping-add');
    if (addAddressForm.classList.contains('show')) {
        addAddressForm.classList.remove('show');
    } else {
        addAddressForm.classList.add('show');
    }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        $('.cancel-order-btn').on('click', function(e) {
            e.preventDefault();
            const orderId = $(this).data('order-id');
            const $button = $(this);
            Swal.fire({
                title:'Cancel order',
                text:'are you sure you want to cancel this order? This action cannot be undone.',
                icon:'warning',
                showCancelButton:true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText:'Yes, cancel it!',
                cancelButtonText:'No, keep it!'
            }).then((result)=>{
                if(result.isConfirmed){
                     $.ajax({
                url: `/cancel-order/${orderId}`,
                type: 'GET',
                success: function(response) {
                    if (response.success) {
                        $button.prop('disabled', true);

                        $button.closest('tr').find('.order-status').text('canceled');
                    } else {
                        alert(response.message);
                    }
                },
                error: function() {
                    alert('An error occurred while canceling the order.');
                }
            });
                }
            })
           
        });
    });
</script>


</body>

</html>